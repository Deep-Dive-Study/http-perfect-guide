# 1. HTTP 개관

## 1.1 HTTP : 인터넷의 멀티미디어 배달부

수많은 이미지, HTML, TXT, MPEG, WAV등등이 HTTP를 사용해 빠르고 간편하고 정확하게 옮겨준다.

HTTP는 신뢰성 있는 프로토콜이기 때문에 데이터가 손상되거나 꼬이지 않는다.

## 1.2 웹 클라이언트와 서버

데이터는 서버에 있고, 사용자는 HTTP 요청을 보내고 서버로부터 응답 데이터를 받는다. 이게 WWW의 기본 요소다.

## 1.3 리소스

- 리소스 : 웹 콘텐츠 원천 /  웹 서버가 관리함 (ex. 정적 파일, 동적 콘텐츠 등등)
- 정적 파일 : 사진, 영상, HTML, 워드 등등
- 동적 콘텐츠 : 사용자의 요청에 따라 응답이 달라지는 콘텐츠
- 미디어 타입 : HTTP는 각 객체에 MIME 타입의 데이터 포맷 라벨을 붙인다. 웹 브라우저는 이 라벨을 보고 자신이 다룰 수 있는 객체인지 확인한다.
- MIME : 사선으로 구분된 primary object type과 specific subtype의 문자열 라벨이다. (ex. text/html, image/jpeg, video/quicktime)
- URI : 통합 자원 식별자 즉, 인터넷의 주소를 뜻한다. URL과 URN이 있다.
- URL : 통합 자원 지시자 즉, 리소스의 구체적인 위치를 뜻한다. (프로토콜 + 도메인 + 리소스)
- URN : 리소스 위치에 영향을 받지 않고 동작하는 이름이다. 아직 실험적인 단계이며, 대부분 URL을 사용한다.

## 1.4 트랜잭션

HTTP 트랜잭션은 요청과 응답으로 이루어져 있으며, HTTP 메시지라는 정형화된 데이터로 이루어져 있다.

### HTTP 메서드

- GET : 서버에서 클라이언트로 지정한 리소스를 보낸다.
- PUT : 클라이언트에서 서버로 보낸 데이터를 지정한 이름의 리소스로 저장하라.
- DELETE : 지정한 리소스를 서버에서 삭제하라.
- POST : 클라이언트 데이터를 서버 게이트웨이 애플리케이션으로 보내라.
- HEAD : 지정한 리소스에 대한 응답에서 HTTP 헤더만 보내라.

### HTTP 상태코드

클라이언트에게 요청이 성공적인지, 아닌지, 추가정보가 필요한지 알려주기위한 세자리 숫자다.

상태코드 외에도 사유구절도 함께 보낸다. (OK, Document attached)

### 웹 페이지는 여러 객체로 이루어져 있다.

애플리케이션은 하나의 작업을 위해 여러 HTTP 트랜잭션을 수행한다.

예를 들어 웹페이지를 로딩할 때 HTML, 이미지, css, js등을 가져오는데 모두 각각의 HTTP 트랜잭션을 수행한다.

## 1.5 메시지

HTTP 요청/응답에서 사용하는 단순한 문자열이다.

![image](https://github.com/Deep-Dive-Study/http-perfect-guide/assets/85796588/71feeb23-efa3-404e-97dd-51e80eae0e1e)

- 시작줄 : 어떤 요청인지, 요청이 어떻게 처리되었는지
- 헤더 : 0개 이상의 각 헤더 필드로 이루어져 있다.
- 본문 : 데이터를 전달하는 역할을 하며, 이미지, 비디오, 오디오, 이진데이터등을 포함할 수 있다.

## 1.6 TCP 커넥션

TCP/IP : 신뢰성 있는 애플리케이션 계층 프로토콜이다. 네트워크 통신의 세부사항은 HTTP가 아닌 TCP/IP가 전담한다.

- 오류 없는 전송
- 데이터 순서 보장
- 조각나지 않는 데이터 스트림

클라이언트가 서버에 요청을 보내기 전에 TCP/IP 커넥션을 맺어야 한다. 서버의 IP주소와 포트 번호를 이용해 TCP/IP 연결을 한다. (telnet으로 직접 HTTP 메시지를 적어 통신할 수 있다.)

## 1.7 프로토콜 버전

### HTTP/0.9

HTTP 프로토타입으로 알려져 있으며, 결함이 많고, 구식 클라이언트하고만 같이 사용할 수 있다.

메서드는 오직 GET만 있고, MINE, 헤더, 버전은 지원하지 않는다.

### HTTP/1.0

이때부터 널리 쓰이기 시작했다. 헤더, 다양한 메서드, 멀티미디어 객체 처리등이 가능해졌다.

웹과 상호작용하는 폼을 만들었고, 이는 곧 웹의 발전을 이루어냈다.

### HTTP/1.0+

웹 클라이언트의 요구를 만족하기 위해 기능이 추가된 버전이다.

keep-alive, 가상 호스팅, 프록시 연결등이 추가되었다.

### HTTP/1.1

결함 교정, 성능 최적화, 잘못된 기능 제거에 집중한 버전.

더욱 복잡해진 웹 애플리케이션과 배포를 지원하고 현재 가장 많이 쓰이는 버전이다.

### HTTP/2.0

1.1의 성능 문제를 개선하기 위해 구글의 SPDY 프로토콜을 기반으로 설계된 버전이다.

## 1.8 웹의 구성 요소

- 프록시 : 클라이언트와 서버 사이에 위치한 HTTP 중개자
    - 사용자 대신 서버에 접근한다. 보통 보안을 위해 사용되며, 요청과 응답을 필터링 한다.
- 캐시 : 자주 사용되는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
- 게이트웨이 : 다른 애플리케이션과 연결된 특별한 웹 서버
    - 다른 서버들의 중개자 역할을 한다. 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용되며, 게이트웨이는 언제나 스스로가 리소스를 갖고있는 진짜 서버처럼 행동한다.
- 터널 : 단순히 HTTP 통신을 전달하기만 하는 프록시
- 에이전트 : 자동화된 HTTP 요청을 만드는 웹클라이언트
